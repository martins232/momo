{% extends "main.html" %} {% load static %} 

{% block title %}Exam monitoring{% endblock title %}

{% block additional_head_css %}
<link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
{% endblock additional_head_css %} {% block content %}
<nav aria-label="breadcrumb" class="main-breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
        <li class="breadcrumb-item"><a href="javascript:void(0)">Teacher</a></li>
        <li class="breadcrumb-item active" aria-current="page">
            Live exam monitoring
        </li>
    </ol>
</nav>

<div class="row">
    <div class="col-md-12">
        <div class="card p-2">
            <div class="card-title">
                <h2 class="text-center">Exam: REL 100</h2>
                <div class="row">
                    <div class="col-6">
                        <span><span class="fw-bold">Subject:</span> English</span><br />
                        <span><span class="fw-bold">No. of question:</span> 20 </span><br />
                        <span><span class="fw-bold">Time:</span> 30 mins </span>
                    </div>
                    <div class="col-6 text-end">
                        <span class="btn btn-primary"><span class="fw-bold">Time:</span> 30 mins
                        </span>
                        <span class="btn btn-primary"><span class="fw-bold">Last updated:</span> 30 mins
                        </span>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-xl-4 col-md-6">
                    <div class="card bg-primary text-white mb-4">
                        <div class="card-body pb-0">
                            <div class="">
                                <div class="row">
                                    <div class="col-3">
                                        <i class="mt-2 fas fa-users fa-3x"></i>
                                    </div>
                                    <div class="col-9">
                                        <span class="d-flex justify-content-end">Total Students</span>
                                        <span class="fs-1 d-flex justify-content-end">30</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer d-flex align-items-center justify-content-between">
                            <a class="small text-white stretched-link" href="#">View Details</a>
                            <div class="small text-white">
                                <i class="fas fa-angle-right"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-4 col-md-6">
                    <div class="card bg-success text-white mb-4">
                        <div class="card-body pb-0">
                            <div class="">
                                <div class="row">
                                    <div class="col-3">
                                        <i class="mt-2 fas fa-graduation-cap fa-3x"></i>
                                    </div>
                                    <div class="col-9">
                                        <span class="d-flex justify-content-end">Average Score</span>
                                        <span class="fs-1 d-flex justify-content-end">30</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer d-flex align-items-center justify-content-between">
                            <a class="small text-white stretched-link" href="#">View Details</a>
                            <div class="small text-white">
                                <i class="fas fa-angle-right"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-4 col-md-6">
                    <div class="card bg-warning text-white mb-4">
                        <div class="card-body pb-0">
                            <div class="">
                                <div class="row">
                                    <div class="col-3">
                                        <i class="mt-2 fas fa-calendar-alt fa-3x"></i>
                                    </div>
                                    <div class="col-9">
                                        <span class="d-flex justify-content-end">Total Absent Students</span>
                                        <span class="fs-1 d-flex justify-content-end">30</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer d-flex align-items-center justify-content-between">
                            <a class="small text-white stretched-link" href="#">View Details</a>
                            <div class="small text-white">
                                <i class="fas fa-angle-right"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-4 col-md-6">
                    <div class="card bg-secondary text-white mb-4">
                        <div class="card-body pb-0">
                            <div class="">
                                <div class="row">
                                    <div class="col-3">
                                        <i class="mt-2 fas fa-file-alt fa-3x"></i>
                                    </div>
                                    <div class="col-9">
                                        <span class="d-flex justify-content-end">Total No. Submitted</span>
                                        <span class="fs-1 d-flex justify-content-end">30</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer d-flex align-items-center justify-content-between">
                            <a class="small text-white stretched-link" href="#">View Details</a>
                            <div class="small text-white">
                                <i class="fas fa-angle-right"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-4 col-md-6">
                    <div class="card bg-info text-white mb-4">
                        <div class="card-body pb-0">
                            <div class="">
                                <div class="row">
                                    <div class="col-3">
                                        <i class="mt-2 fas fa-check fa-3x"></i>
                                    </div>
                                    <div class="col-9">
                                        <span class="d-flex justify-content-end">Total No. Passed</span>
                                        <span class="fs-1 d-flex justify-content-end">30</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer d-flex align-items-center justify-content-between">
                            <a class="small text-white stretched-link" href="#">View Details</a>
                            <div class="small text-white">
                                <i class="fas fa-angle-right"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-4 col-md-6">
                    <div class="card bg-danger text-white mb-4">
                        <div class="card-body pb-0">
                            <div class="">
                                <div class="row">
                                    <div class="col-3">
                                        <i class="mt-2 fas fa-times-circle fa-3x"></i>
                                    </div>
                                    <div class="col-9">
                                        <span class="d-flex justify-content-end">Total No. Fail</span>
                                        <span class="fs-1 d-flex justify-content-end">30</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer d-flex align-items-center justify-content-between">
                            <a class="small text-white stretched-link" href="#">View Details</a>
                            <div class="small text-white">
                                <i class="fas fa-angle-right"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<table
  id="table" 
  data-toggle="table"
  data-ajax="ajaxRequest"
  data-search="true"
  data-side-pagination="client"
  data-server-sort="false"
  data-pagination="true"
  data-show-columns="true"
  data-show-refresh="true"
  data-show-fullscreen="true"
  data-search-highlight = "true"
  data-show-button-text ="true"
  data-show-footer="true"
  data-sort-class="table-active"
  data-thead-classes="table-light"
 

  data-filter-control="true"
  data-show-search-clear-button="true"
  >
  <thead> <!--id used for javascript-->
    <tr>
      <th data-field="name" data-sortable="true" data-filter-control="input">Student Name</th>
      <th data-field="score" data-sortable="true">Score</th>
      <th data-field="time_started" data-sortable="true" data-formatter="dateFormatter">Time started</th>
      <th data-field="elapsed_time" data-sortable="true">Time spent</th>
      <th data-field="completed" data-sortable="true">Completed</th>
      <th data-field="misconduct" data-sortable="true">Misconduct</th>
    </tr>
  </thead>
</table>


{% endblock content %} 

{% block js %}
<script src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script>
<script src="https://unpkg.com/bootstrap-table@1.22.1/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>

<script>

    function ajaxRequest(params) {
        var url = "http://127.0.0.1:8000/teacher/session-data/1/"
        $.get(url).then(function (res) {
        params.success(res)
        })
    }


   

    function nameDetailFormatter(index, row){
        peace = `<h2>${row.name}</h2>
        <a href="{% url "home" %}" target="_blank">Another page</a>
        `
        return  peace
    }
    function dateFormatter(value, row) {

        var django_timestamp =    (row.time_started) ?  new Date (row.time_started): null;
        var iso_string  = django_timestamp ?  django_timestamp.toUTCString  (): "-";
        return iso_string 
    }
    
  </script>
{% endblock js %}